/* ===== CSS OTIMIZADO PARA IMPRESSÃO - 1 FOLHA A4 ===== */
@page {
  size: A4 portrait;
  margin: 0.5cm 1cm;
}

@media print {
  /* ===== ELEMENTOS A SEREM ESCONDIDOS ===== */
  .nav-menu,
  .btn,
  .nav-btn-logout,
  .search-bar,
  .cliente-select button,
  .loading,
  .os-actions,
  .print-btn {
    display: none !important;
  }

  /* ===== CONFIGURAÇÕES GERAIS DA IMPRESSÃO ===== */
  body {
    font-family: 'Arial', sans-serif !important;
    font-size: 9px !important;
    line-height: 1.1 !important;
    background: white !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  .container {
    box-shadow: none !important;
    border-radius: 0 !important;
    max-width: none !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  .content-area {
    padding: 0 !important;
    min-height: auto !important;
  }

  .os-container {
    max-width: none !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* ===== HEADER DA OS - COMPACTADO ===== */
  .os-header {
    background: #f8f9fa !important;
    border: 1px solid #ddd !important;
    border-radius: 0 !important;
    padding: 6px 8px !important;
    margin: 0 0 3px 0 !important;
    text-align: center !important;
    page-break-inside: avoid;
  }

  .os-number {
    font-size: 16px !important;
    font-weight: bold !important;
    color: #2c3e50 !important;
    margin: 0 !important;
    line-height: 1 !important;
  }

  .os-date {
    font-size: 10px !important;
    color: #666 !important;
    margin: 0 !important;
    font-weight: normal !important;
  }

  /* ===== SEÇÕES - MARGENS REDUZIDAS ===== */
  .section {
    background: white !important;
    border: 1px solid #ddd !important;
    border-radius: 0 !important;
    padding: 6px 8px !important;
    margin: 2px 0 !important;
    page-break-inside: avoid;
  }

  .section h2 {
    color: #2c3e50 !important;
    margin: 3px 0 6px 0 !important;
    font-size: 11px !important;
    font-weight: bold !important;
    border-bottom: 1px solid #ddd !important;
    padding-bottom: 2px !important;
    line-height: 1 !important;
    /* REMOVER EMOJIS DOS TÍTULOS */
    text-indent: -15px !important;
  }

  .section h2:before {
    content: "" !important;
    display: none !important;
  }

  /* ===== FORMULÁRIOS - ULTRA COMPACTOS ===== */
  .form-group {
    margin-bottom: 4px !important;
  }

  .form-group label {
    font-size: 9px !important;
    font-weight: bold !important;
    color: #333 !important;
    margin-bottom: 1px !important;
    display: block !important;
    line-height: 1 !important;
  }

  .form-group input,
  .form-group select,
  .form-group textarea {
    width: 100% !important;
    padding: 2px 4px !important;
    border: 1px solid #ccc !important;
    border-radius: 2px !important;
    font-size: 9px !important;
    line-height: 1.1 !important;
    background: white !important;
    box-sizing: border-box !important;
    margin: 0 !important;
  }

  .form-group textarea {
    height: 35px !important;
    resize: none !important;
    font-size: 9px !important;
  }

  /* ===== DADOS DO CLIENTE - COMPACTADO ===== */
  .cliente-select {
    margin-bottom: 4px !important;
  }

  .cliente-select input {
    width: 100% !important;
    margin-bottom: 2px !important;
  }

  .client-details {
    background: #f8f9fa !important;
    padding: 4px !important;
    border-radius: 2px !important;
    margin-top: 2px !important;
    border: 1px solid #e9ecef !important;
  }

  .client-details p {
    margin: 1px 0 !important;
    font-size: 8px !important;
    line-height: 1 !important;
  }

  /* ===== TABELAS ULTRA COMPACTAS ===== */
  .table-container {
    overflow: visible !important;
    margin: 3px 0 !important;
  }

  table {
    width: 100% !important;
    border-collapse: collapse !important;
    font-size: 8px !important;
    margin: 0 !important;
  }

  th, td {
    border: 1px solid #ddd !important;
    padding: 2px 3px !important;
    text-align: left !important;
    vertical-align: top !important;
    line-height: 1 !important;
  }

  th {
    background: #f8f9fa !important;
    color: #333 !important;
    font-weight: bold !important;
    font-size: 7px !important;
    padding: 3px 2px !important;
    text-align: center !important;
    height: 16px !important;
  }

  td {
    font-size: 8px !important;
    height: 18px !important;
  }

  /* ===== LARGURAS OTIMIZADAS DAS COLUNAS ===== */
  /* TABELA DE SERVIÇOS */
  #tabelaServicos th:nth-child(1), #tabelaServicos td:nth-child(1) {
    width: 6% !important;
    text-align: center !important;
  }

  #tabelaServicos th:nth-child(2), #tabelaServicos td:nth-child(2) {
    width: 50% !important;
  }

  #tabelaServicos th:nth-child(3), #tabelaServicos td:nth-child(3) {
    width: 8% !important;
    text-align: center !important;
  }

  #tabelaServicos th:nth-child(4), #tabelaServicos td:nth-child(4) {
    width: 12% !important;
    text-align: right !important;
  }

  #tabelaServicos th:nth-child(5), #tabelaServicos td:nth-child(5) {
    width: 12% !important;
    text-align: right !important;
    font-weight: bold !important;
  }

  #tabelaServicos th:nth-child(6), #tabelaServicos td:nth-child(6) {
    width: 12% !important;
    text-align: center !important;
  }

  /* TABELA DE PRODUTOS */
  #tabelaProdutos th:nth-child(1), #tabelaProdutos td:nth-child(1) {
    width: 6% !important;
    text-align: center !important;
  }

  #tabelaProdutos th:nth-child(2), #tabelaProdutos td:nth-child(2) {
    width: 45% !important;
  }

  #tabelaProdutos th:nth-child(3), #tabelaProdutos td:nth-child(3) {
    width: 6% !important;
    text-align: center !important;
  }

  #tabelaProdutos th:nth-child(4), #tabelaProdutos td:nth-child(4) {
    width: 8% !important;
    text-align: center !important;
  }

  #tabelaProdutos th:nth-child(5), #tabelaProdutos td:nth-child(5) {
    width: 12% !important;
    text-align: right !important;
  }

  #tabelaProdutos th:nth-child(6), #tabelaProdutos td:nth-child(6) {
    width: 11% !important;
    text-align: right !important;
    font-weight: bold !important;
  }

  #tabelaProdutos th:nth-child(7), #tabelaProdutos td:nth-child(7) {
    width: 12% !important;
    text-align: center !important;
  }

  /* ===== INPUTS DAS TABELAS - MÍNIMOS ===== */
  .table-input {
    width: 100% !important;
    border: none !important;
    background: transparent !important;
    padding: 1px 2px !important;
    font-size: 8px !important;
    line-height: 1 !important;
    margin: 0 !important;
    height: 16px !important;
  }

  .table-input:focus {
    outline: none !important;
    background: #fff !important;
    border: 1px solid #667eea !important;
  }

  /* ===== TOTAIS - COMPACTOS ===== */
  .total-section {
    background: #e8f5e8 !important;
    padding: 6px 8px !important;
    border-radius: 0 !important;
    margin: 6px 0 !important;
    text-align: right !important;
    border: 1px solid #27ae60 !important;
  }

  .total-line {
    font-size: 10px !important;
    margin: 2px 0 !important;
    font-weight: bold !important;
    line-height: 1 !important;
  }

  .total-final {
    font-size: 12px !important;
    color: #27ae60 !important;
    border-top: 1px solid #27ae60 !important;
    padding-top: 3px !important;
    margin-top: 4px !important;
    font-weight: bold !important;
    line-height: 1.1 !important;
  }

  /* ===== PAGAMENTO - ULTRA COMPACTO ===== */
  .payment-section {
    display: block !important;
    grid-template-columns: none !important;
    gap: 0 !important;
    margin-top: 6px !important;
  }

  .payment-section .form-group {
    display: inline-block !important;
    width: 23% !important;
    vertical-align: top !important;
    margin: 0 0 3px 0 !important;
  }

  .payment-section .form-group:nth-child(4) {
    width: 31% !important;
  }

  .payment-section input,
  .payment-section select {
    padding: 2px 3px !important;
    font-size: 9px !important;
    height: 18px !important;
  }

  .payment-section label {
    font-size: 8px !important;
    margin-bottom: 1px !important;
  }

  /* ===== OBSERVAÇÕES - REDUZIDA ===== */
  #observacoes {
    height: 40px !important;
    font-size: 9px !important;
    line-height: 1.1 !important;
  }

  /* ===== ASSINATURAS - COMPACTAS ===== */
  .signature-section {
    display: flex !important;
    justify-content: space-between !important;
    margin-top: 15px !important;
    padding-top: 8px !important;
    border-top: 1px solid #333 !important;
    page-break-inside: avoid;
  }

  .signature-box {
    flex: 1 !important;
    text-align: center !important;
    margin: 0 8px !important;
  }

  .signature-box p {
    font-size: 9px !important;
    margin: 1px 0 !important;
    line-height: 1 !important;
  }

  .signature-line {
    border-bottom: 1px solid #333 !important;
    height: 20px !important;
    margin: 3px 0 !important;
  }

  /* ===== LISTAS DE CLIENTES E OS - COMPACTAS ===== */
  .client-item,
  .os-item {
    border: 1px solid #ddd !important;
    padding: 6px !important;
    margin-bottom: 6px !important;
    page-break-inside: avoid;
  }

  .client-info h3,
  .os-details h3 {
    font-size: 11px !important;
    margin-bottom: 3px !important;
  }

  .client-info p,
  .os-meta {
    font-size: 8px !important;
    margin: 1px 0 !important;
  }

  /* ===== EVITAR QUEBRAS INDESEJADAS ===== */
  .section,
  .os-header,
  .signature-section,
  table {
    page-break-inside: avoid !important;
  }

  .table-container {
    page-break-inside: auto !important;
  }

  tr {
    page-break-inside: avoid !important;
    page-break-after: auto !important;
  }

  thead {
    display: table-header-group !important;
  }

  tfoot {
    display: table-footer-group !important;
  }

  /* ===== CORES E AJUSTES FINAIS ===== */
  * {
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* ===== RESPONSIVO PARA IMPRESSÃO MOBILE ===== */
  @media print and (max-width: 600px) {
    .payment-section .form-group {
      width: 100% !important;
      display: block !important;
      margin-bottom: 3px !important;
    }

    .signature-section {
      flex-direction: column !important;
    }

    .signature-box {
      margin: 3px 0 !important;
    }

    body {
      font-size: 8px !important;
    }

    th, td {
      padding: 1px 2px !important;
      font-size: 7px !important;
    }
  }
}
